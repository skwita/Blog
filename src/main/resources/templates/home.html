<!DOCTYPE html>
<html lang="en"
      xmlns:="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Blog</title>
    <link rel="stylesheet" th:href="@{/css/home.css}">
</head>
<body>
<div class="header">
  <a class="authThing" th:if="${user == null}" th:href="@{/login}">Sign in</a>
  <a class="authThing" th:if="${user == null}" th:href="@{/register}">Sign up</a>
  <p class="authThing" th:if="${user != null}" th:text="${user.getUsername()}"></p>
  <form th:if="${user != null}" th:action="@{/logout}" th:method="POST">
    <input class="authThing"  type="submit" value="logout">
  </form>
</div>
<div class="postsContainer">
  <div class="post" th:each="post:${posts}">
    <p th:text="${post.getTitle()}">TITLE</p>
    <p th:text="${post.getText()}">TEXT</p>
    <p th:text="${post.getUser().getUsername()}">USER</p>
    <form th:if="${user != null && post.getUser().getId() == user.getId()}" th:action="@{/edit/{id}(id=*{post.getId()})}" th:method="GET">
      <input type="submit" value="Edit post">
    </form>
    <form th:if="${user != null && post.getUser().getId()==user.getId()}" th:action="@{/delete/{id}(id=*{post.getId()})}" th:method="DELETE">
      <input type="submit" value="Delete post">
    </form>
  </div>
</div>
<div class="postCreation">
  <form th:if="${user != null}" th:action="@{/new}" th:method="GET">
    <input type="submit" value="New Post">
  </form>
</div>
</body>
</html>